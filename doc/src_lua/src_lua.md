# Lua脚本文件结构
* 基于版本v1.1.1

## 1. Arm环境

```
/opt/l_lua
```

## 2. 模拟器环境

```
./l_lua
```

## 3. 目录文件说明

```
├─l_lua ----------------------- Lua部分
│  ├─base --------------------- 基础通用
│  ├─config ------------------- 配置文件存储目录
│  ├─demo --------------------- IPC部分示例
│  ├─ipc ---------------------- 非音视频部分主业务逻辑(Lua)
│  │  │author.lua ------------- (必看)Lua代码约定
│  │  │cfg_setup.lua ---------- 配置初始化流程
│  │  │G.lua ------------------ 全局变量
│  │  │imsg.lua --------------- 线程间消息通信管理
│  │  │inet.lua --------------- 网络模块集合
│  │  │ipc.lua ---------------- *主程序入口
│  │  │iworker.lua ------------ 工作线程管理
│  │  │loader.lua ------------- 业务逻辑加载入口(遗留兼容)
│  │  │mcache.lua ------------- 服务端所有线程之间共享的数据
│  │  ├─auth ------------------ 权限模块
│  │  ├─cfg ------------------- 配置模块
│  │  ├─discover -------------- 网络发现
│  │  ├─driver ---------------- 加载海思驱动(遗留)
│  │  ├─env ------------------- 工作环境
│  │  ├─gpio ------------------ gpio相关操作
│  │  ├─http ------------------ HTTP
│  │  ├─nsm ------------------- 网络服务端管理模块
│  │  ├─phynet ---------------- 物理网络
│  │  ├─proto ----------------- 网络协议处理
│  │  ├─upgrade --------------- 网络升级协议
│  │  └─worker ---------------- 各个工作线程
│  ├─l_xxx -------------------- C模块的Lua描述
│  ├─upgrade ------------------ 升级
│  │  ├─run_env.lua ----------- 软件启动环境
│  │  └─upgrade.lua ----------- 升级进程
│  └─www ---------------------- 升级
│     |favicon.ico ------------ 网页页面图标
│     │index.html ------------- 主页
│     └not_found.html --------- 404未找到页面

```
